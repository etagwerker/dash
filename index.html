<html>
  <head>
    <title>Dash</title>
    <link rel="stylesheet" type="text/css" href="static/styleguide.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.scss">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body class="styleguide-page">
    <div id='top'></div>
    <a href="#" id="nav-button" class="">
      <span>Menu</span>
    </a>

    <ul id="main-nav">
      <a href="#top"><h1>OmbuLabs</h1></a>
      <li><a href="#getting-started" title="Logo">Getting Started</a></li>
      <li><a href="#variables" title="Color">Environment Variables</a></li>
      <li><a href="#server" title="Typography">Starting the Server</a></li>
      <li><a href="#tests" title="Links & Buttons">Running Tests</a></li>
      <li><a href="#tasks" title="Forms">Tasks</a></li>
      <li><a href="#contributing" title="Flash">Contributing</a></li>
      <li><a href="#license" title="Icons">License</a></li>
      <li><a href="#code-of-conduct" title="Icons">Code of Conduct</a></li>
    </ul>

    <section id="page-wrapper">
      <div id="sections">

        <h2>Dash</h2>
        <p>At <a href="https://github.com/fastruby/dash" title="Dash" target="_blank">Dash</a>, A dashboard to integrate GitHub pull requests and issues, as well as Pivotal Tracker stories. </p>

        <div id="getting-started" class="section__content">
          <h2 id="getting-started">Getting Started</h2>
          <p>To get started with the app:</p>
          <code>$ bin/setup</code>
        </div>

        <div id="variables" class="section__content">
          <h2>Environment Variables</h2>
          <p>Running bin/setup will create a .env file with the following environment variables:</p>
          <p>Examples</p>
          <code>GITHUB_KEY=c0aa36d5697d97ded
            GITHUB_SECRET=6571a2b4fc1dae2abcdea568edc9161a1e7672
            GITHUB_PERSONAL_ACCESS_TOKEN=058ba38d0e50000333265ae783534a560838868f6
            GITHUB_MACHINE_USER_ACCESS_TOKEN=28abc9e6de7e1234567d7b9c9483f23a77bd9758
            PIVOTAL_TOKEN=8406d6312871234565e9aa95516c4b2
            LOCKBOX_MASTER_KEY=0a982923e5954b16c82abcdef2c13f6368724679f056977bb36c594ead211
            GITHUB_ORGANIZATIONS=myorg,otherorg,org-org</code>
          <p>GITHUB_KEY and GITHUB_SECRET: You need to sign up for an OAuth2 Application ID and Secret on the <a href="https://github.com/settings/applications" title="Github Applications" target="_blank">GitHub Applications Page.</a></p>
          <p>GITHUB_MACHINE_USER_ACCESS_TOKEN: This is required only if you want to use an asynchronous job. You can get this token using a <a href="https://developer.github.com/v3/guides/managing-deploy-keys/#machine-users" title="Github Machine User" target="_blank">GitHub Machine User.</a></p>
          <p>GITHUB_PERSONAL_ACCESS_TOKEN and PIVOTAL_TOKEN: These tokens are only needed for running tests. If you want to create new tests or new VCRs you will need to replace these tokens with your own.</a></p>
          <p>LOCKBOX_MASTER_KEY: This is used by <a href="https://github.com/ankane/lockbox#key-generation" title="Lockbox Gem" target="_blank">Lockbox Gem</a> which is being used to encrypt the pivotal token for each user.</p>
          <p>GITHUB_ORGANIZATIONS: This is a string with comma separated organization names. This is not the name of the organization, but how it is represented in the url. For example: "Hello World" should be "hello-world"</p>
        </div>

        <div id="server" class="section__content">
          <h2>Starting the Server</h2>
          <code> $ rails s </code>
          <p>Go to <a href="http://localhost:3000" title="localhost" target="_blank">http://localhost:3000</a></p>

        </div>

        <div id="tests" class="section__content">
          <h2>Running Tests</h2>
          <div>
            <code>$ rails spec</code>
            <p>The tests in this project use the <a href="https://github.com/vcr/vcr" title="VRC gem" target="_blank">VCR gem</a> to record and playback all interactions with the Github and Pivotal Tracker APIs. This allows you to run the test suite without having an account at GitHub or Pivotal Tracker for testing.</p>
            <p>If you add a test that requires making an additional API call, then you'll need to make adjustments to the <code> .env </code> file to provide account details that are required by the test suite.</p>
            <p>If you need to refresh the VCR cassettes, the easiest way is to delete all of the files located under <a href=https://github.com/fastruby/dash/tree/master/fixtures/vcr_cassettes title="VRC fixtures" target="_blank">fixtures/vcr_cassettes</a>. The next time the test suite is run, VCR will make actual calls against the GitHub or Pivotal Tracker APIs and record the responses into updated cassette files. Care should be taken to use fake account if you are doing this and wish to preserve sensitive data.</p>
            <p>Effort has been taken to ensure that private information is excluded from the recorded cassettes. To adjust this further, add additional <code>filter_sensitive_data</code> calls to <a href=https://github.com/fastruby/dash/blob/master/spec/spec_helper.rb title="spec/spec_helper.rb" target="_blank">spec/spec_helper.rb</a>.</p>
          </div>
        </div>

        <div id="tasks" class="section__content">
          <h2>Tasks</h2>
          <div>
            <code> $ bundle exec rake update_pull_requests </code>
            <code> $ bundle exec rake update_issues </code>
          </div>

        <div id="contributing" class="section__content">
          <h2>Contributing</h2>
          <p>Bug reports and pull requests are welcome on GitHub at <a href=https://github.com/fastruby/dash title="https://github.com/ombulabs/dash" target="_blank">https://github.com/ombulabs/dash</a>. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the <a href=https://github.com/ombulabs/dash/CODE_OF_CONDUCT.md title="Contributor Covenant " target="_blank">Contributor Covenant </a> code of conduct.</p>
        </div>

        <div id="license" class="section__content">
        <h2>License</h2>
          <p>The gem is available as open source under the terms of the <a href=https://opensource.org/licenses/MIT title="MIT License" target="_blank">MIT License</a>.</p>
        </div>

        <div id="code-of-conduct" class="section__content">
        <h2>Code of Conduct</h2>
          <p>Everyone interacting in the Dash projectâ€™s codebases, issue trackers, chat rooms and mailing lists is expected to follow the <a href=https://github.com/ombulabs/dash/CODE_OF_CONDUCT.md title="code of conduct" target="_blank">code of conduct</a>.</p>
        </div>

      </div>
    </section>
    <script src="static/styleguide.js"></script>
  </body>
</html>
